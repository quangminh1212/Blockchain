13.Compositions and Connectors

    . Thành phần Hợp thành (Composition)
        . Thành phần hợp thành (Composition) là một loại thành phần phần mềm nhóm hoặc tổng hợp các thành phần phần mềm khác hoặc các thành phần hợp thành khác.
        . Hiểu đơn giản, một composition là một container chứa một nhóm các thành phần phần mềm.

    . Các Loại Kết nối (Connectors)
        . Kết nối (Connectors) thiết lập giao tiếp qua các cổng và truyền dữ liệu từ cổng cung cấp đến cổng nhận.
        . Trong một hệ thống thực, có thể có hàng ngàn cổng cung cấp và cổng nhận, kết nối giữa chúng được quyết định từ cấu hình kết nối.

    . Các Loại Kết nối

        . Assembly Connector
            . Dùng để kết nối các cổng trong cùng một composition.
            . Kết nối giữa một cổng cung cấp và một cổng nhận trong cùng một composition.

        . Delegation Connector
            . Mở rộng các cổng bên trong từ các thành phần đến composition bên ngoài.
            . Tạo cổng phản chiếu trên composition bên ngoài và kết nối cổng này với cổng bên trong của thành phần.

        . Pass-through Connector
            . Kết nối qua một thành phần trung gian.
            . Dùng để chuyển tiếp dữ liệu qua nhiều lớp composition.

    . Ví dụ Cấu hình Kết nối

        . Assembly Connector
            . Có hai thành phần phần mềm với giao diện sender receiver và client server, mỗi thành phần có hai cổng cung cấp và hai cổng nhận.
            . Đặt chúng trong một composition gọi là Composition One.
            . Sử dụng assembly connector để kết nối các cổng trong cùng composition.

                Composition One
                ├── SWC 1 (Provider Port)
                └── SWC 2 (Receiver Port)

        . Delegation Connector
            . Có một thành phần khác trong hệ thống gọi là SWC 3, đặt trong một composition mới gọi là Composition Two.
            . Composition Two bao gồm Composition One.
            . Sử dụng delegation connector để mở rộng các cổng của thành phần SWC 1 và SWC 2 ra composition bên ngoài.

                Composition Two
                └── Composition One
                    ├── SWC 1 (Delegation to Composition Two)
                    └── SWC 2 (Delegation to Composition Two)

        . Kết nối Giữa Các Composition
            . Sau khi mở rộng các cổng, sử dụng assembly connector để kết nối cổng của SWC 3 với SWC 1 và SWC 2 thông qua Composition Two.

                Composition Two
                ├── Composition One
                │   ├── SWC 1 (Extended Port)
                │   └── SWC 2 (Extended Port)
                └── SWC 3 (Assembly Connector to Extended Ports)

    . Quy tắc Sử dụng Connectors
        . Assembly Connector: Kết nối cổng cung cấp và cổng nhận trong cùng một composition.
        . Delegation Connector: Mở rộng cổng từ thành phần bên trong đến composition bên ngoài, kết nối cùng loại cổng (cung cấp đến cung cấp hoặc nhận đến nhận).
        . Pass-through Connector: Kết nối qua thành phần trung gian, dùng để chuyển tiếp dữ liệu qua nhiều lớp composition.

    . Tóm tắt
        . Thành phần hợp thành (Composition) là container chứa các thành phần phần mềm.
        . Assembly Connector: Kết nối trong cùng một composition.
        . Delegation Connector: Mở rộng cổng từ thành phần bên trong ra composition bên ngoài.
        . Pass-through Connector: Chuyển tiếp dữ liệu qua nhiều lớp composition.
        . Mỗi kết nối cuối cùng phải kết thúc bằng cấu hình assembly connector.